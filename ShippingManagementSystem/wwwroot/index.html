<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Jades Cargo Service, Inc.</title>
    <link href="/Libraries/semantic/semantic.min.css" rel="stylesheet" />
    <link href="/Libraries/datepicker/calendar.min.css" rel="stylesheet" />

</head>
<body>
    <div id="main">

        <div class="ui breadcrumb">
            
        </div>
  
        <div class="ui uicalendar">
            <div class="ui mini input left icon">
                <i class="calendar outline icon"></i>
                <input type="text" placeholder="Date/Time">
            </div>
        </div>



    </div>
    <script src="/Libraries/Jquery/jquery-3.2.1.min.js"></script>
    <script src="/Libraries/qrjs/instascan.min.js"></script>
    <script src="/Libraries/semantic/semantic.min.js"></script>
    <script src="/Libraries/datepicker/calendar.min.js"></script>
    <script src="/Libraries/qrjs/qrcode.min.js"></script>
    <!-- utility scripts-->
    <script>
        var Utility = [];

        Utility.loadScript = function (url, callback) {
            jQuery.ajax({
                url: url,
                dataType: 'script',
                success: callback,
                async: true
            });
        }

        Utility.loadTemplate = function (templateUrl, id, scriptUrl) {
            jQuery.ajax({
                url: templateUrl,
                dataType: 'text',
                success: function (data) {
                    
                    $("#" + id).html("");

                    if (scriptUrl != undefined && scriptUrl.trim() != "")
                    {
                        data + `<script> Utility.loadScript('`+scriptUrl+`')<//script>`;
                    }

                     $("#" + id).html(data);

                },
                async: true
            });
        }

        Utility.loadScalar = function (url, callback) {
            jQuery.ajax({
                url: url,
                dataType: 'script',
                success: callback,
                async: true
            });
        }

        Utility.loadResults = function (url, callback) {
            jQuery.ajax({
                url: url,
                dataType: 'script',
                success: callback,
                async: true
            });
        }

        Utility.loadSingleResult = function (url, callback) {
            jQuery.ajax({
                url: url,
                dataType: 'script',
                success: callback,
                async: true
            });
        }

        Utility.pad = function(n, width, z) {
            z = z || '0';
            n = n + '';
            return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
        }

        Utility.getDate = function (date) {
            var today = new Date(date);
            var dd = today.getDate();
            var mm = today.getMonth() + 1; //January is 0!

            var yyyy = today.getFullYear();
            if (dd < 10) {
                dd = '0' + dd;
            }
            if (mm < 10) {
                mm = '0' + mm;
            }
            return today = mm + '/' + dd + '/' + yyyy;
        }


        Utility.loadCrumbs = function()
        {
            var current = window.location.href;
            if (current[current.length - 1] == "/")
            {
                current = current.substring(0, [current.length - 1]);
            }
            
            var url = current.split("/");
            $('.breadcrumb').html("")
            var rebuildUrl = "";
            $.each(url, function (key, val) {
                rebuildUrl = rebuildUrl + val + "/";
                if (key > 1)
                {
                    if (key == 2)
                    {
                        val = "Home";
                    }
                    if (val.trim() != "" && val != undefined)
                    {
                        if (key == url.length-1)
                        {
                            var template = `<a class="active section">` + val + `</a>`;

                            $('.breadcrumb').html($('.breadcrumb').html() + template)
                        } else
                        {
                            var template = `<a class="section" href="` + rebuildUrl + `">` + val + `</a> <i class="right angle icon divider"></i>`;

                            $('.breadcrumb').html($('.breadcrumb').html() + template)
                        }
                        

                    }

                   
                }
            });
        }
     
    </script>

    <!-- main script here-->
    <script>
        $(document).ready(function () {

            //default declarations
            $('.uicalendar').calendar({ type: 'date' });
            Utility.loadCrumbs();
            Utility.loadTemplate("/Application/main.html", "main");

        });
    </script>
    <!--
        Sample for Calendar
        <div class="ui uicalendar">
            <div class="ui input left icon">
                <i class=" icon"></i>
                <input type="text" placeholder="Date/Time">
            </div>
        </div>
    
        -->

</body>
</html>