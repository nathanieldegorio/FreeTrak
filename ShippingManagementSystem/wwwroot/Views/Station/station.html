
   
            <div class="container" style="text-align: center;">

                <div class="card col s12 m12 l4" style="text-align: left;">
                    <div class="card-image">
                        <img src="../../Assets/main-bg.jpg" style="opacity: 0.4;">
                        <span class="card-title">Station No. 1</span>

                    </div>
                    <div class="card-content">
                        <div class="row">
                            <div class="col s12">
                                <div class="col l4 m12 s12" style="padding-bottom: 10px;">
                                    <a class="waves-effect waves-light btn modal-trigger btn-large col s12" onclick="createWayBill()">New Waybill</a>
                                  
                                </div>
                                <div class="col l4 m12 s12" style="padding-bottom: 10px;">
                                    <a class="waves-effect waves-light btn modal-trigger btn-large col s12" onclick="$('#editmodal').modal('open');">Find Waybill</a>
                                   
                                </div>
                                <div class="col l4 m12 s12" style="padding-bottom: 10px;">
                                    <a class="waves-effect waves-light btn modal-trigger btn-large col s12" onclick="$('#returnmodal').modal('open');">Cancel Item No.</a>
                                   
                                </div>

                            </div>
                        </div>

                        <div class="row">
                            <div class="col l12 m12 s12">
                                <a class="waves-effect waves-light btn modal-trigger btn-large col s12 red" onclick="signout()">SIGN OUT</a>
                            </div>
                        </div>


                    </div>

                </div>
            </div>


<div id="editmodalcont">

    <!-- Modal Structure -->
    <div id="editmodal" class="modal">
        <div class="modal-content">
           
            <div class="row">
                <div class="input-field col s6">
                    <input value="" id="edit_tracking" type="text" class="validate">
                    <label class="active" for="first_name2">Tracking No.:</label>
                    <video id="preview"></video>

                </div>

                <div class="input-field col s2">
                   <button class="btn btn-large" onclick="loadWayBill($('#edit_tracking').val())">Load Details</button>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <input value="" id="first_name2" type="text" class="validate">
                    <label class="active" for="first_name2">Origin</label>
                </div>
                <div class="input-field col s6">
                    <select id="edt_destinationList">
                        <option value="" disabled selected>Choose your option</option>

                    </select>
                    <label class="active">Destination</label>
                </div>
            </div>

            <div class="row">
                <div class="input-field col s6">
                    <select id="edt_shipperList">
                        <option value="" disabled selected>Choose your option</option>

                    </select>
                    <label class="active" for="first_name2">Shipper:</label>
                </div>
                <div class="input-field col s6">
                    <select id="edt_consigneeList">
                        <option value="" disabled selected>Choose your option</option>

                    </select>
                    <label class="active" for="first_name2">Consignee</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s4">
                    <input value="" id="edt_packages" type="text" class="validate">
                    <label class="active" for="first_name2">No. of Packages</label>
                </div>
                <div class="input-field col s4">
                    <input value="" id="first_name2" type="text" class="validate">
                    <label class="active" for="first_name2">Additional Packages</label>
                </div>
               
            </div>
        </div>
        <div class="modal-footer">
            <a class="modal-action modal-close waves-effect waves-green btn-flat" onclick="window.print();">Save &amp; Print New Stickers</a>
            <a class="modal-action modal-close waves-effect waves-green btn-flat" onclick="window.print();">Save &amp; Print All Stickers</a>
        </div>
    </div>
</div>

<div id="newmodalcont">
   
    <!-- Modal Structure -->
    <div id="newmodal" class="modal">
        <div class="modal-content">
            <h4>New Waybill</h4>
            <h4>Tracking No. <i id="trackingno"></i></h4>
            <div class="row">
                <div class="input-field col s6">
                    <input value="Head Office" id="first_name2" type="text" class="validate" disabled>
                    <label class="active" for="first_name2">Origin</label>
                </div>
                <div class="input-field col s6">
                    <select id="destinationList">
                        <option value="" disabled selected>Choose your option</option>
                      
                    </select>
                    <label class="active" >Destination</label>
                </div>
            </div>
            
            <div class="row">
                <div class="input-field col s6">
                    <select id="shipperList">
                        <option value="" disabled selected>Choose your option</option>

                    </select>
                    <label class="active" for="first_name2">Shipper:</label>
                </div>
                <div class="input-field col s6">
                    <select id="consigneeList">
                        <option value="" disabled selected>Choose your option</option>

                    </select>
                    <label class="active" for="first_name2">Consignee</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s4">
                    <input value="" id="packages_count" type="text" class="validate">
                    <label class="active" for="first_name2">No. of Packages</label>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <a class="modal-action modal-close waves-effect waves-green btn-flat" onclick="generateStickers('111111', '2222', '3333', '44444', '5');">Save &amp; Print  Stickers</a>
        </div>
    </div>
</div>

<div id="returnstickers">

    <!-- Modal Structure -->
    <div id="returnmodal" class="modal">
        <div class="modal-content">
            <div class="row">
                <div class="input-field col s6">
                    <input value="" id="rem_TrackingNo" type="text" class="validate">
                    <label class="active" for="first_name2">Tracking No.:</label>
                </div>
                <div class="input-field col s6">
                    <input value="" id="rem_ItemNo" type="text" class="validate">
                    <label class="active" for="first_name2">Sticker No. (e.g. 1234567-001):</label>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <a class="modal-action modal-close waves-effect waves-green btn-flat" onclick="removeItem($('#rem_TrackingNo').val(),$('#rem_ItemNo').val() )">Return Stickers</a>
        </div>
    </div>
</div>



<div id="printarea" style=" visibility: hidden;">
   
</div>


<script type="text/javascript">
    $('.modal').modal();
    
    function generateStickers(trackingno, route, from, to, number)
    {
        $("#printarea").html("");
        trackingno = $('#trackingno').html();
        number = $('#packages_count').val()
       // savewaybill(trackingno, $('#origin').val(), $('#destinationList').val(), $('#shipperList').val(), $('#consigneeList').val(), $('#packages_count').val());

        console.log($('#destinationList'));
        var destinaton = $("#destinationList option:selected").text();
        var shipper = $("#shipperList option:selected").text();
        var consignee = $("#consigneeList option:selected").text();

        for (var i = 1; i <= number; i++)
        {
            createSticker(trackingno, i, 'Head Office to ' + destinaton, shipper, consignee);
            if (i == number)
            {
                
                printStickers(trackingno, number);
                
            }
        }
        
        window.print();
    }
    function printStickers(trackingno, number) {
        for (var i = 1; i <= number; i++)
        {
        //    insertItem(trackingno, i);
            var qrcode = new QRCode("qrcode" + i, {
                text: trackingno + "-" + pad(i, 5),
                width: 200,
                height: 200,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });
        }
    }
    function createSticker(trackingno, itemno, route, from, to)
    {
        var tenplate = `<div class="container" style="border: 1px solid black;">
                            <div class="row">
                                <div class="col s4">
                                    &nbsp; &nbsp; Jades Cargo Services
                                    <div id="qrcode`+ itemno+`" style="width: 100px; height: 200px; padding: 10px; width: 800px;"></div>
                                </div>
                                <div class="col s8" style="font-size: 20px; padding-top: 15px;">
                                    Tracking No:
                                    <br />
                                    <u>`+ trackingno + ` - ` + pad(itemno, 5)+`</u>
                                    <br />
                                    Route :
                                    <br />
                                    <u>`+ route +`</u>
                                    <br />
                                    To:
                                    <br />
                                    <u>`+ to +`</u>
                                    <br />
                                    From:
                                    <br /> <u>`+ from +`</u>
                                    <br />

                                </div>
                            </div>
                        </div>`;

        $("#printarea").html($("#printarea").html() + tenplate);
        
       
    }
    function pad(n, width, z) {
        z = z || '0';
        n = n + '';
        return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
    }
    function randomNumber()
    {
        return pad(Math.floor(Math.random() * 20000), 5);
    }
    function createWayBill()
    {
        var trackingno = pad(randomNumber(), 8);
       
        $('#trackingno').html(trackingno);
        $('#newmodal').modal('open');
    }
    function signout()
    {
        modLoad('main', "Account/login.html");
    }
</script>
